# ZooKeeper备忘

####	1.实用功能及场景
1.数据发布、订阅,集群管理

客户端对zk的一个节点注册监听，当节点内容或子节点列表发生变更，zk会订阅的客户端发送通知

2.负载均衡

3.分布式创建ID

根据顺序类型创建唯一ID

4.master选举

5.排它锁、共享锁

排它锁：其他任何事务都不能再对这个数据对象进行操作

共享锁：读请求要求比自己序号小的子节点都是读请求，写请求要求自己序号最小，否则等待

避免惊群：每个锁只需关注比自己序号小的是否存在

6.分布式队列

1.先入先出
类似共享锁，确定自己的节点序号是最小的，否则进行等待并向比自己序号小且最接近自己的节点注册Wathcher监听

2.同时触发
向节点注册对子节点列表变更的监听，创建子节点时统计个数，不足则重新注册变更监听，足够则进行业务处理

####	2.部分原理
